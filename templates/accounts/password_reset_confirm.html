{% extends "base.html" %}
{% block title %}Definir nova senha{% endblock %}
{% block content %}
<div class="max-w-md mx-auto bg-white border rounded-lg p-6">
  {% if validlink %}
    <h2 class="text-lg font-semibold mb-4">Definir nova senha</h2>
    <form method="post" class="space-y-3">
      {% csrf_token %}
      {{ form.non_field_errors }}
      <input type="password" name="new_password1" placeholder="Nova senha" autocomplete="new-password"
             class="w-full rounded-lg border px-3 py-2">
      {{ form.new_password1.errors }}
      <input type="password" name="new_password2" placeholder="Confirmar nova senha" autocomplete="new-password"
             class="w-full rounded-lg border px-3 py-2">
      {{ form.new_password2.errors }}
      <button class="w-full bg-blue-600 text-white rounded-lg py-2">Salvar nova senha</button>
    </form>
  {% else %}
    <h2 class="text-lg font-semibold mb-2">Link inválido ou expirado</h2>
    <p class="text-sm text-gray-600">Solicite uma nova redefinição para continuar.</p>
    <a href="{% url 'accounts:password_reset' %}"
       class="inline-flex items-center justify-center w-full mt-4 rounded-lg bg-blue-600 text-white py-2">
      Enviar novo link
    </a>
  {% endif %}
</div>
{% endblock %}
